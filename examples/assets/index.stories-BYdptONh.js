import{s as e,t}from"./iframe-BH6JquWL.js";var n=e(),r=t();const i=({id:e,name:t,value:i=``,onValueChange:a,thousandSeparator:o=`,`,decimalSeparator:s=`.`,decimalLimit:c=2,allowNegative:l,placeholder:u,className:d,min:f,max:p,step:m=1,...h})=>{let g=(0,n.useRef)(null),[_,v]=(0,n.useState)(``),y=(0,n.useCallback)(e=>e.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`),[]),b=(e,t)=>{if(!isFinite(e)||!isFinite(t))return NaN;let n=Math.log10(t);if(Number.isInteger(n)){let[t,r]=e.toExponential().split(`e`),i=parseInt(r)+n;return parseFloat(t+`e`+i)}return e*t},x=(0,n.useCallback)(function e(t){let n=t.trim(),r=y(o),i=y(s);if(l&&n.startsWith(`-`))return`-`+e(n.slice(1));let a=[`\\`,`^`,`$`,`*`,`+`,`?`,`.`,`(`,`)`,`|`,`{`,`}`,`[`,`]`],c=r;a.includes(o)&&(c=`\\${o}`);let u=i;a.includes(s)&&(u=`\\${s}`);let d=`^([+-]?)(([0-9${c}]*)([${u}])?([0-9]+)?)([kKmMbBtT])?`,f=new RegExp(d,`i`),p=n.match(f);if(p&&p[6]){let e=parseFloat(p[2].replace(/\D/g,``)),t=p[6]?.toLowerCase();if(t)switch(t){case`k`:e=b(e,1e3);break;case`m`:e=b(e,1e6);break;case`b`:e=b(e,1e9);break;case`t`:e=b(e,0xe8d4a51000);break}return e.toString()}return n},[l,s,y,o]),S=(0,n.useCallback)(e=>{let t=x(typeof e==`string`?e.trim():e.toString()),n=new RegExp(y(o),`g`),r=t.replace(n,``).split(s),i=r[0],a=r[1]??``;i=l&&i.startsWith(`-`)?`-`+i.slice(1).replace(/\D/g,``):i.replace(/\D/g,``),a=a.replace(/\D/g,``).slice(0,c);let u=i.replace(/\B(?=(\d{3})+(?!\d))/g,o);return t.endsWith(s)||t.endsWith(`${s}0`)||a?{raw:parseFloat(`${i}${s}${a}`),formated:`${u}${s}${a}`}:{raw:parseFloat(i),formated:u}},[x,y,o,s,l,c]);return(0,n.useEffect)(()=>{v(S(i?.toString()||``).formated)},[S,i]),(0,r.jsx)(`input`,{id:e,name:t,type:`text`,ref:g,value:_,onChange:e=>{let t=e.target.value,n=e.target.selectionStart||0,r=S(t);v(r.formated),a(r.raw,r.formated),setTimeout(()=>{if(g.current){let e=n+(r.formated.length-t.length);e=Math.max(0,Math.min(e,r.formated.length)),g.current.setSelectionRange(e,e)}},0)},onBlur:e=>{v(S(e.target.value).formated)},onKeyDown:e=>{if(e.key===`ArrowUp`||e.key===`ArrowDown`){e.preventDefault();let t=(i?S(i).raw:0)+(e.key===`ArrowUp`?m:-m);f!==void 0&&(t=Math.max(t,f)),p!==void 0&&(t=Math.min(t,p)),console.log(t);let n=S(t);v(n.formated),a(n.raw,n.formated)}},placeholder:u,className:d,"aria-label":`Number input`,...h})};i.__docgenInfo={description:``,methods:[],displayName:`NumberInput`,props:{value:{required:!1,tsType:{name:`union`,raw:`string | number | null`,elements:[{name:`string`},{name:`number`},{name:`null`}]},description:`Current value (raw number string or number).`,defaultValue:{value:`''`,computed:!1}},onValueChange:{required:!0,tsType:{name:`signature`,type:`function`,raw:`(value: number, formated: string) => void`,signature:{arguments:[{type:{name:`number`},name:`value`},{type:{name:`string`},name:`formated`}],return:{name:`void`}}},description:`Callback with the raw numeric value (no separators).`},thousandSeparator:{required:!1,tsType:{name:`string`},description:`Thousand separator – default “,”`,defaultValue:{value:`','`,computed:!1}},decimalSeparator:{required:!1,tsType:{name:`string`},description:`Decimal separator – default “.”`,defaultValue:{value:`'.'`,computed:!1}},decimalLimit:{required:!1,tsType:{name:`number`},description:`Max digits allowed after the decimal point.`,defaultValue:{value:`2`,computed:!1}},allowNegative:{required:!1,tsType:{name:`boolean`},description:`Allow negative numbers? (default: false).`},placeholder:{required:!1,tsType:{name:`string`},description:`Optional standard input props`},className:{required:!1,tsType:{name:`string`},description:``},id:{required:!1,tsType:{name:`string`},description:``},name:{required:!1,tsType:{name:`string`},description:``},min:{required:!1,tsType:{name:`number`},description:`Minimum value`},max:{required:!1,tsType:{name:`number`},description:`Maximum value`},step:{required:!1,tsType:{name:`number`},description:`Step value for arrow key increments/decrements (default: 1)`,defaultValue:{value:`1`,computed:!1}}},composes:[`Omit`]};var a=({id:e,name:t,value:a=``,onValueChange:o,thousandSeparator:s=`,`,decimalSeparator:c=`.`,decimalLimit:l=2,allowNegative:u,placeholder:d,className:f,min:p,max:m,step:h=1,...g})=>{let[_,v]=(0,n.useState)(a);return(0,r.jsx)(i,{value:_,onValueChange:(e,t)=>{v(e),o(e,t)},thousandSeparator:s,decimalSeparator:c,decimalLimit:l,allowNegative:u,placeholder:d,className:f,id:e,name:t,min:p,max:m,step:h,...g})},o=a;a.__docgenInfo={description:``,methods:[],displayName:`NumberInputPreview`,props:{value:{required:!1,tsType:{name:`union`,raw:`string | number | null`,elements:[{name:`string`},{name:`number`},{name:`null`}]},description:`Current value (raw number string or number).`,defaultValue:{value:`''`,computed:!1}},onValueChange:{required:!0,tsType:{name:`signature`,type:`function`,raw:`(value: number, formated: string) => void`,signature:{arguments:[{type:{name:`number`},name:`value`},{type:{name:`string`},name:`formated`}],return:{name:`void`}}},description:`Callback with the raw numeric value (no separators).`},thousandSeparator:{required:!1,tsType:{name:`string`},description:`Thousand separator – default “,”`,defaultValue:{value:`','`,computed:!1}},decimalSeparator:{required:!1,tsType:{name:`string`},description:`Decimal separator – default “.”`,defaultValue:{value:`'.'`,computed:!1}},decimalLimit:{required:!1,tsType:{name:`number`},description:`Max digits allowed after the decimal point.`,defaultValue:{value:`2`,computed:!1}},allowNegative:{required:!1,tsType:{name:`boolean`},description:`Allow negative numbers? (default: false).`},placeholder:{required:!1,tsType:{name:`string`},description:`Optional standard input props`},className:{required:!1,tsType:{name:`string`},description:``},id:{required:!1,tsType:{name:`string`},description:``},name:{required:!1,tsType:{name:`string`},description:``},min:{required:!1,tsType:{name:`number`},description:`Minimum value`},max:{required:!1,tsType:{name:`number`},description:`Maximum value`},step:{required:!1,tsType:{name:`number`},description:`Step value for arrow key increments/decrements (default: 1)`,defaultValue:{value:`1`,computed:!1}}},composes:[`Omit`]};var{fn:s}=__STORYBOOK_MODULE_TEST__,c={title:`Example/NumberInput`,component:o,parameters:{layout:`centered`},tags:[`autodocs`],argTypes:{value:{control:`number`},onValueChange:{action:`value changed`},placeholder:{control:`text`},className:{control:`text`},decimalLimit:{control:`number`},step:{control:`number`},min:{control:`number`},max:{control:`number`},thousandSeparator:{control:`text`},decimalSeparator:{control:`text`},allowNegative:{control:`boolean`},backgroundColor:{control:`color`}},args:{onClick:s()}};const l={args:{value:1e3,thousandSeparator:`,`,decimalSeparator:`.`,decimalLimit:2,placeholder:`Enter a number`,onValueChange:s(),className:`border border-gray-300 rounded focus:border-primary outline-0 px-3 py-2 dark:text-white gray:text-white blue:text-white`}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  args: {
    value: 1000,
    thousandSeparator: ',',
    decimalSeparator: '.',
    decimalLimit: 2,
    placeholder: 'Enter a number',
    onValueChange: fn(),
    className: 'border border-gray-300 rounded focus:border-primary outline-0 px-3 py-2 dark:text-white gray:text-white blue:text-white'
  }
}`,...l.parameters?.docs?.source}}};const u=[`Default`];export{l as Default,u as __namedExportsOrder,c as default};